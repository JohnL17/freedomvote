{% extends 'core/edit.html' %}

{% load i18n static filters %}

{% block 'scripts' %}
<script src="{% static 'edit_profile.js' %}"></script>
{% endblock %}

{% block 'subcontent' %}
<div class="row">
    <h2>{{ politician.first_name }} {{ politician.last_name }}</h2>
    <form id="profile" method="post" enctype="multipart/form-data" action="{% url 'edit_profile' politician.unique_key %}">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-9">
                <div class="col-md-6">
                    <div class="form-group {% if form.first_name.errors %}has-error{% endif %}">
                        {{ form.first_name|label_with_class:'control-label' }}
                        {{ form.first_name }}
                    </div>
                    <div class="form-group {% if form.email.errors %}has-error{% endif %}">
                        {{ form.email|label_with_class:'control-label' }}
                        {{ form.email }}
                    </div>
                    <div class="form-group {% if form.is_member_of_parliament.errors %}has-error{% endif %}">
                        {{ form.is_member_of_parliament }}
                        {{ form.is_member_of_parliament|label_with_class:'control-label' }}
                    </div>
                    <div class="row">
                        <div class="col-md-6 {% if form.state.errors %}has-error{% endif %}">
                            <div class="form-group">
                                {{ form.state|label_with_class:'control-label' }}
                                {{ form.state }}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group {% if form.party.errors %}has-error{% endif %}">
                                {{ form.party|label_with_class:'control-label' }}
                                {{ form.party }}
                            </div>
                            <div class="form-group {% if form.party_other.errors %}has-error{% endif %}">
                                <a id="toggle-party" href="#">{% trans 'other' %}...</a>
                                {{ form.party_other }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 {% if form.last_name.errors %}has-error{% endif %}">
                    <div class="form-group">
                        {{ form.last_name|label_with_class:'control-label' }}
                        {{ form.last_name }}
                    </div>
                    <div class="form-group {% if form.past_contributions.errors %}has-error{% endif %}">
                        {{ form.past_contributions|label_with_class:'control-label' }}
                        {{ form.past_contributions }}
                    </div>
                    <div class="form-group {% if form.future_plans.errors %}has-error{% endif %}">
                        {{ form.future_plans|label_with_class:'control-label' }}
                        {{ form.future_plans }}
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                {{ form.image }}
            </div>
        </div>
        <div class="row text-right">
            <div class="col-md-12">
                <input class="btn btn-primary" type="submit" value="{% trans 'save' %}">
            </div>
        </div>
    </form>
</div>
<div class="row">
    <hr>
    <h2>{% trans "links" %}</h2>
    <div id="links" class="col-md-12">{% include 'core/edit_profile_links.html' %}</div>
</div>
{% endblock %}
